[["DrawTips.html", "10 绘图技巧 10.1 一句话Tips 10.2 3D绘图 10.3 函数绘制 10.4 绘制向量场 10.5 在ggplot中添加jpe对象 10.6 双坐标绘图", " 10 绘图技巧 10.1 一句话Tips vistime包基于ggplot的逻辑绘制甘特图。注意他时间线的格式是as.POSIXct()。 Cairo包在苹果系统中安装的话，要先安装X11,网址https://www.xquartz.org/ ggplot绘图在MacOS中中文不会显示，你应该加上+theme_bw(base_family = 'STKaiti')语句。保存时，使用类似如下语句： library(Cairo) pdf(...,family = &quot;GB1&quot;) # 也能保存中文 ggsave(filename = pname.eps,width = 8.6, height = 5.72,device = cairo_ps, family = &quot;Song&quot;) # 可以保存中文 ggsave(filename = pname.pdf,width = 8.6, height = 5.72,device = cairo_pdf, family = &quot;Song&quot;) # 可以保存中文 ggsave(filename = pname.wmf,width = 8.6, height = 5.72) #该格式只用于word，且无法实现半透明。 如果想要刻度线往里面，可以设置tick的长度值为负， theme(axis.ticks.length.x = unit(-0.1,&quot;cm&quot;)) 如果标题太长，要换行，可以使用， labs(title = stringr::str_wrap(&#39;巴拉巴拉&#39;, width = 3)) 保存svg格式图片 library(svglite) ggsave(&#39;myplot.svg&#39;) 坐标轴体现数学表达，主要使用了TeX命令： library(latex2exp) ggplot(data = data.frame(x = 0, y = 0)) + geom_point(aes(x = x, y = y)) + ylab(TeX(&#39;$Abundance \\\\; 1 \\\\times 10^5$&#39;)) 10.2 3D绘图 x和y是数值向量，z是矩阵，且z的列数与x的长度一致，行数与y的长度一致。 library(plotly) library(magrittr) x &lt;- seq_len(nrow(volcano)) + 100 y &lt;- seq_len(ncol(volcano)) + 500 plot_ly() %&gt;% add_surface(x = ~x, y = ~y, z = ~volcano) 10.3 函数绘制 # To plot functions without data, specify range of x-axis base &lt;- ggplot() + xlim(-5, 5) base + geom_function(fun = dnorm) base + geom_function(fun = dnorm, args = list(mean = 2, sd = .5)) 10.4 绘制向量场 比如绘制如下系统的相图, \\[\\begin{align} &amp;\\dot{x} = 2*x-y\\\\ &amp;\\dot{y} = y +x \\end{align}\\] library(ggquiver) library(ggplot2) expand.grid(x = seq(-3,3.1,0.5), y = seq(-3,3.1,0.5)) %&gt;% # 生成格点 ggplot(aes(x,y,u = 2*x-y, v = y+x)) + # u,v就是dot_x和dot_y geom_quiver() 10.5 在ggplot中添加jpe对象 library(cowplot) gg &lt;- ggplot(data.frame(x = 1:5, y = 1:5), aes(x, y)) + labs(x = &#39;站桩时间（单位：年）&#39;,y = &#39;&#39;) + theme_half_open(12) + theme(axis.text.y = element_blank(), axis.ticks = element_blank()) ggdraw() + draw_image(&#39;E:/202110.jpg&#39;, width = 0.9, height = 0.5,x=0.06,y=0.1) + draw_plot(gg) 10.6 双坐标绘图 data(&quot;mtcars&quot;) library(ggplot2) ggplot(mtcars, aes(x = mpg, y = disp)) + geom_line() + geom_line(aes(y = wt*mean(disp)/mean(wt)), linetype = 3, size = .3, color = I(&#39;red&#39;)) + scale_y_continuous(name = &#39;disp&#39;, sec.axis = sec_axis(~.*mean(mtcars$wt)/mean(mtcars$disp), name = &#39;wt&#39;)) ggplot开始的第一行代码画主轴，第二行代码把副轴的数据范围变化到和主轴的范围差不多，第三行代码sec.axis是把副轴刻度显示进行缩放。比如第二行代码把副轴的y数据扩大了20倍，那么此处副轴刻度显示就要缩小20倍。 "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
